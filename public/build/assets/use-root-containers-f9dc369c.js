import{r as i,C as E,A as f,B as m,H as p,c as S,E as H,G as y,D as b,_ as $,$ as x}from"./app-96f38ead.js";import{w as B}from"./use-outside-click-bb552b2d.js";import{e as j,H as v,m as h,o as w}from"./focus-management-88c7ad29.js";import{a as F,f as L}from"./hidden-b5b6606d.js";var M=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(M||{});function U(){let e=i(0);return B("keydown",r=>{r.key==="Tab"&&(e.value=r.shiftKey?1:0)}),e}function D(e,r,n,l){j.isServer||E(u=>{e=e??window,e.addEventListener(r,n,l),u(()=>e.removeEventListener(r,n,l))})}let C=Symbol("ForcePortalRootContext");function O(){return p(C,!1)}let N=f({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(e,{slots:r,attrs:n}){return m(C,e.force),()=>{let{force:l,...u}=e;return v({theirProps:u,ourProps:{},slot:{},slots:r,attrs:n,name:"ForcePortalRoot"})}}});function k(e){let r=h(e);if(!r){if(e===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${e}`)}let n=r.getElementById("headlessui-portal-root");if(n)return n;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)}let _=f({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:r,attrs:n}){let l=i(null),u=S(()=>h(l)),a=O(),o=p(T,null),t=i(a===!0||o==null?k(l.value):o.resolveTarget());E(()=>{a||o!=null&&(t.value=o.resolveTarget())});let d=p(c,null);return H(()=>{let s=w(l);s&&d&&y(d.register(s))}),y(()=>{var s,P;let g=(s=u.value)==null?void 0:s.getElementById("headlessui-portal-root");g&&t.value===g&&t.value.children.length<=0&&((P=t.value.parentElement)==null||P.removeChild(t.value))}),()=>{if(t.value===null)return null;let s={ref:l,"data-headlessui-portal":""};return b($,{to:t.value},v({ourProps:s,theirProps:e,slot:{},attrs:n,slots:r,name:"Portal"}))}}}),c=Symbol("PortalParentContext");function q(){let e=p(c,null),r=i([]);function n(a){return r.value.push(a),e&&e.register(a),()=>l(a)}function l(a){let o=r.value.indexOf(a);o!==-1&&r.value.splice(o,1),e&&e.unregister(a)}let u={register:n,unregister:l,portals:r};return[r,f({name:"PortalWrapper",setup(a,{slots:o}){return m(c,u),()=>{var t;return(t=o.default)==null?void 0:t.call(o)}}})]}let T=Symbol("PortalGroupContext"),K=f({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(e,{attrs:r,slots:n}){let l=x({resolveTarget(){return e.target}});return m(T,l),()=>{let{target:u,...a}=e;return v({theirProps:a,ourProps:{},slot:{},attrs:r,slots:n,name:"PortalGroup"})}}});function V({defaultContainers:e=[],portals:r}={}){let n=i(null),l=h(n);function u(){var a;let o=[];for(let t of e)t!==null&&(t instanceof HTMLElement?o.push(t):"value"in t&&t.value instanceof HTMLElement&&o.push(t.value));if(r!=null&&r.value)for(let t of r.value)o.push(t);for(let t of(a=l==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?a:[])t!==document.body&&t!==document.head&&t instanceof HTMLElement&&t.id!=="headlessui-portal-root"&&(t.contains(w(n))||o.some(d=>t.contains(d))||o.push(t));return o}return{resolveContainers:u,contains(a){return u().some(o=>o.contains(a))},mainTreeNodeRef:n,MainTreeNode(){return b(L,{features:F.Hidden,ref:n})}}}export{D as E,N as P,_ as U,q as V,K as _,M as d,U as n,V as p};

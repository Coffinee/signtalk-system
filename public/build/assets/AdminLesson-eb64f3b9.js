import{_ as v}from"./Slideover-9ba15cb8.js";import{k as u,s as f,a as b,o as d,b as a,d as e,F as m,m as x,t as r,w as g,i as y,j as w,e as n,v as h,W as k,n as L,l as C,p as S}from"./app-96f38ead.js";import{_ as A}from"./_plugin-vue_export-helper-c27b6911.js";import"./dialog-f890fcea.js";import"./focus-management-88c7ad29.js";import"./hidden-b5b6606d.js";import"./use-root-containers-f9dc369c.js";import"./use-outside-click-bb552b2d.js";import"./micro-task-89dcd6af.js";import"./description-765b68ff.js";import"./transition-7060fc3d.js";const D={components:{Slideover:v},props:{data:{type:Array,default:{}}},data(){return{data:{},slideoverOpen:!1,edit:!1,form:new u({id:"",title:"",video_link:"",description:"",image_file:""}),image_url:"",tableLabels:[{id:"1",name:"ID"},{id:"2",name:"Lesson Title"},{id:"3",name:"Video Link"},{id:"4",name:"Description"},{id:"5",name:"Image"},{id:"6",name:"Action"}],hideLabel:!1}},methods:{slideoverToggle(){this.slideoverOpen=!1,this.edit=!1,this.form=new u({id:"",title:"",video_link:"",description:"",image_file:""}),console.log(this.form)},submitForm(){console.log(this.form),this.$Progress.start(),this.form.post("/api/lesson").then(i=>{this.$Progress.finish(),this.getData(),this.slideoverToggle()}).catch(i=>{this.$Progress.fail()})},updateForm(){f.put("/api/lesson/"+this.form.id,{params:{data:this.form}}).then(i=>{this.$Progress.finish(),this.edit=!1,this.slideoverToggle()}).catch(i=>{this.$Progress.fail()})},editForm(i){this.edit=!0,this.slideoverOpen=!this.slideoverOpen,this.form=i},async getData(){await f.get("/api/lesson").then(i=>{this.data=i.data.data}).catch(i=>{errorMessage("Opps!",i.message,"top-right")})},uploadImage(){let s=this.$refs.image_file.files;if(s&&s[0]){let p=new FileReader;p.onload=c=>{this.image_url=c.target.result,this.form.image_file=c.target.result},p.readAsDataURL(s[0]),this.$emit("input",s[0])}}},created(){this.getData()}},F={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},T={class:"flex justify-between p-2 px-[30px] pt-[30px]"},O=e("h2",{class:"text-2xl font-extrabold font-poppins text-black"},"Lesson",-1),U=S('<div class="pb-4 bg-white px-[30px]"><label for="table-search" class="sr-only">Search</label><div class="relative mt-1"><div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"><svg class="w-5 h-5 text-gray-500 dark:text-gray-400" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path></svg></div><input type="text" id="table-search" class="block p-2 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg w-80 bg-gray-50" placeholder="Search for items"></div></div>',1),V={class:"px-[30px] pb-12"},j={class:"w-full text-sm text-left text-gray-500 py-[10px]"},M={class:"text-xs text-gray-700 uppercase bg-gray-200"},I={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap"},P={class:"px-6 py-4"},B={class:"px-6 py-4"},z={class:"px-6 py-4"},N={class:"px-6 py-4"},E={class:"px-6 py-4 flex gap-[5px] text-center"},R=["onClick"],W={class:"my-3 p-4 space-y-6"},q={class:"space-y-1"},G=e("label",{for:"title",class:"text-[15px]"},"Lesson Title",-1),H={class:"space-y-1"},J=e("label",{for:"video_link",class:"text-[15px]"},"Upload Video Link",-1),K={class:"space-y-1"},Q=e("label",{for:"description",class:"text-[15px]"},"Description",-1),X={class:"space-y-1"},Y=e("label",{for:"image_file",class:"text-sm"},"Upload Photo",-1),Z={class:"flex items-center justify-center w-full"},$=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-8 h-8 text-black group-hover:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1),ee=e("p",{class:"pt-1 text-sm tracking-wider text-gray-600 group-hover:text-gray-600"}," Attach a file",-1),te=[$,ee],se={class:"flex gap-1 mt-10"},oe={type:"submit",class:"rounded-md w-full bg-indigo-500 border border-white py-2 px-3 text-sm text-white"};function ie(i,s,p,c,o,l){const _=b("Slideover");return d(),a(m,null,[e("div",null,[e("div",F,[e("div",T,[O,e("button",{onClick:s[0]||(s[0]=t=>o.slideoverOpen=!o.slideoverOpen),type:"button",class:"text-white bg-indigo-500 hover:bg-indigo-600 font-medium rounded-lg text-sm px-5 py-2.5"},"Add Lesson")]),U,e("div",V,[e("table",j,[e("thead",M,[e("tr",null,[(d(!0),a(m,null,x(o.tableLabels,t=>(d(),a("th",{key:t.id,scope:"col",class:"text-center px-6 py-3"},r(t.name),1))),128))])]),e("tbody",null,[(d(!0),a(m,null,x(o.data.data,t=>(d(),a("tr",{key:t.id,class:"bg-white border-b text-center"},[e("th",I,r(t.id),1),e("td",P,r(t.title),1),e("td",B,r(t.video_link),1),e("td",z,r(t.description),1),e("td",N,r(t.image_file),1),e("td",E,[e("a",{onClick:g(le=>l.editForm(t),["prevent"]),class:"font-medium text-blue-600 hover:underline"},"Edit",8,R)])]))),128))])])])])]),y(_,{show:o.slideoverOpen,onClose:l.slideoverToggle,title:(o.edit?"Update":"Add")+" Lesson",desc:"Add ASL Lesson into the database"},{body:w(()=>[e("form",{onSubmit:s[6]||(s[6]=g(t=>o.edit?l.updateForm():l.submitForm(),["prevent"]))},[e("div",W,[e("div",q,[G,n(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>o.form.title=t),type:"text",class:"pl-2 text-xs w-full h-8 rounded-md border border-indigo-900 bg-white"},null,512),[[h,o.form.title]])]),e("div",H,[J,n(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>o.form.video_link=t),type:"text",class:"pl-2 text-xs w-full h-8 rounded-md border border-indigo-900 bg-white"},null,512),[[h,o.form.video_link]])]),e("div",K,[Q,n(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>o.form.description=t),type:"text",class:"pl-2 text-xs w-full h-8 rounded-md border border-indigo-900 bg-white"},null,512),[[h,o.form.description]])]),e("div",X,[Y,e("div",Z,[e("label",{style:k({"background-image":`url(${o.image_url})`}),class:"flex flex-col w-full h-32 rounded-md border-2 border-gray-500 border-dashed hover:bg-gray-200 cursor-pointer bg-center bg-cover bg-no-repeat"},[n(e("div",{class:L([{hidden:o.hideLabel},"flex flex-col items-center justify-center pt-7"])},te,2),[[C,o.form.image_file==""]]),e("input",{ref:"image_file",type:"file",class:"opacity-0",onInput:s[4]||(s[4]=(...t)=>l.uploadImage&&l.uploadImage(...t)),accept:"image/png, image/jpeg, image/jpg, image/svg"},null,544)],4)])])]),e("div",se,[e("button",{type:"button",onClick:s[5]||(s[5]=g((...t)=>l.slideoverToggle&&l.slideoverToggle(...t),["prevent"])),class:"rounded-md w-full bg-white border border-indigo-500 py-2 px-3 text-sm"},"Close"),e("button",oe,r(o.edit?"Update":"Save"),1)])],32)]),_:1},8,["show","onClose","title"])],64)}const xe=A(D,[["render",ie]]);export{xe as default};

import{_ as v}from"./Slideover-08426c06.js";import{k as u,s as f,a as b,o as d,b as a,d as e,F as m,m as x,t as l,w as g,i as y,j as w,e as n,v as h,M as k,n as C,l as D,p as A,h as S}from"./app-27a2ce1b.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";import"./dialog-ee831dec.js";import"./focus-management-187ddee4.js";import"./hidden-d9b882db.js";import"./use-root-containers-8be50100.js";import"./use-outside-click-aa815f53.js";import"./micro-task-89dcd6af.js";import"./description-f81d4895.js";import"./transition-49e07909.js";const L={props:{data:{type:Array,default:{}}},components:{Slideover:v},data(){return{data:{},slideoverOpen:!1,edit:!1,form:new u({id:"",word:"",description:"",video_link:"",image_file:""}),image_url:"",tableLabels:[{id:"1",name:"ID"},{id:"2",name:"Word"},{id:"3",name:"Description"},{id:"4",name:"Video Link"},{id:"5",name:"Image"},{id:"6",name:"Action"}],hideLabel:!1}},methods:{slideoverToggle(){this.slideoverOpen=!1,this.edit=!1,this.form=new u({id:"",word:"",description:"",video_link:"",image_file:""})},submitForm(){this.$Progress.start(),this.form.post("/api/dictionary").then(i=>{this.$Progress.finish(),this.getData(),this.slideoverToggle()}).catch(i=>{this.$Progress.fail()})},updateForm(){f.put("/api/dictionary/"+this.form.id,{params:{data:this.form}}).then(i=>{this.$Progress.finish(),this.edit=!1,this.slideoverToggle()}).catch(i=>{this.$Progress.fail()})},editForm(i){this.edit=!0,this.slideoverOpen=!this.slideoverOpen,this.form=i},async getData(){await f.get("/api/dictionary").then(i=>{this.data=i.data.data}).catch(i=>{errorMessage("Opps!",i.message,"top-right")})},uploadImage(){let s=this.$refs.image_file.files;if(s&&s[0]){let p=new FileReader;p.onload=c=>{this.image_url=c.target.result,this.form.image_file=c.target.result},p.readAsDataURL(s[0]),this.$emit("input",s[0])}}},created(){this.getData()}},V={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},M={class:"flex justify-between px-[30px] pt-[30px]"},O=e("h2",{class:"text-2xl font-extrabold font-poppins text-black"},"Dictionary",-1),T=A('<div class="pb-4 bg-white px-[30px]"><div class="relative mt-1"><div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"><svg class="w-5 h-5 text-gray-500 dark:text-gray-400" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path></svg></div><input type="text" id="table-search" class="block p-2 pl-10 text-sm text-gray-900 border border-gray-500 rounded-lg w-80 bg-gray-50" placeholder="Search for items"></div></div>',1),U={class:"px-[30px] pb-12"},j={class:"w-full text-sm text-left text-gray-500 py-[10px]"},I={class:"text-xs text-gray-700 uppercase bg-gray-200"},P={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap"},z={class:"px-6 py-4"},B={class:"px-6 py-4"},N={class:"px-6 py-4"},W={class:"px-6 py-4"},E={class:"px-6 py-4 flex gap-[5px] text-center"},R=["onClick"],q={class:"my-3 space-y-6"},G={class:"space-y-1"},H=e("label",{for:"word",class:"text-sm"},"Word",-1),J={class:"space-y-1"},K=e("label",{for:"desc",class:"text-sm"},"Description",-1),Q={class:"space-y-1"},X=e("label",{for:"video-link",class:"text-sm relative"},[S("Upload Video Link "),e("span",{class:"absolute text-[9px] text-indigo-500 ml-1"},"*optional")],-1),Y={class:"space-y-1"},Z=e("label",{for:"image_file",class:"text-sm"},"Upload Photo",-1),$={class:"flex items-center justify-center w-full"},ee=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-8 h-8 text-black group-hover:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1),te=e("p",{class:"pt-1 text-sm tracking-wider text-gray-600 group-hover:text-gray-600"}," Attach a file",-1),se=[ee,te],oe={class:"flex gap-1 mt-10"},ie={type:"submit",class:"rounded-md w-full bg-indigo-500 border border-white py-2 px-3 text-sm text-white"};function re(i,s,p,c,o,r){const _=b("Slideover");return d(),a(m,null,[e("div",V,[e("div",M,[O,e("button",{type:"button",onClick:s[0]||(s[0]=t=>o.slideoverOpen=!o.slideoverOpen),class:"text-white bg-indigo-500 hover:bg-indigo-600 font-medium rounded-lg text-sm px-5 py-2.5"},"Add Word")]),T,e("div",U,[e("table",j,[e("thead",I,[e("tr",null,[(d(!0),a(m,null,x(o.tableLabels,t=>(d(),a("th",{key:t.id,scope:"col",class:"text-center px-6 py-3"},l(t.name),1))),128))])]),e("tbody",null,[(d(!0),a(m,null,x(o.data.data,t=>(d(),a("tr",{key:t.id,class:"bg-white border-b text-center"},[e("th",P,l(t.id),1),e("td",z,l(t.word),1),e("td",B,l(t.description),1),e("td",N,l(t.video_link),1),e("td",W,l(t.image_file),1),e("td",E,[e("a",{onClick:g(le=>r.editForm(t),["prevent"]),class:"font-medium text-blue-600 hover:underline"},"Edit",8,R)])]))),128))])])])]),y(_,{show:o.slideoverOpen,onClose:r.slideoverToggle,title:(o.edit?"Update":"Add")+" Word",desc:"Add words into the dictionary"},{body:w(()=>[e("form",{onSubmit:s[6]||(s[6]=g(t=>o.edit?r.updateForm():r.submitForm(),["prevent"]))},[e("div",q,[e("div",G,[H,n(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>o.form.word=t),type:"text",class:"pl-2 text-xs w-full h-8 rounded-md border border-gray-500 bg-white"},null,512),[[h,o.form.word]])]),e("div",J,[K,n(e("textarea",{"onUpdate:modelValue":s[2]||(s[2]=t=>o.form.description=t),class:"pl-2 pt-2 text-xs w-full h-40 resize-none rounded-md border border-gray-500 bg-white"},null,512),[[h,o.form.description]])]),e("div",Q,[X,n(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>o.form.video_link=t),type:"text",class:"pl-2 text-xs w-full h-8 rounded-md border border-gray-500 bg-white"},null,512),[[h,o.form.video_link]])]),e("div",Y,[Z,e("div",$,[e("label",{style:k({"background-image":`url(${o.image_url})`}),class:"flex flex-col w-full h-32 rounded-md border-2 border-gray-500 border-dashed hover:bg-gray-200 cursor-pointer bg-center bg-cover bg-no-repeat"},[n(e("div",{class:C([{hidden:o.hideLabel},"flex flex-col items-center justify-center pt-7"])},se,2),[[D,o.form.image_file==""]]),e("input",{ref:"image_file",type:"file",class:"opacity-0",onInput:s[4]||(s[4]=(...t)=>r.uploadImage&&r.uploadImage(...t)),accept:"image/png, image/jpeg, image/jpg, image/svg"},null,544)],4)])])]),e("div",oe,[e("button",{type:"button",onClick:s[5]||(s[5]=g((...t)=>r.slideoverToggle&&r.slideoverToggle(...t),["prevent"])),class:"rounded-md w-full bg-white border border-indigo-500 py-2 px-3 text-sm"},"Close"),e("button",ie,l(o.edit?"Update":"Save"),1)])],32)]),_:1},8,["show","onClose","title"])],64)}const _e=F(L,[["render",re]]);export{_e as default};
